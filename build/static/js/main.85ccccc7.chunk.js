(this["webpackJsonpcross-country-planner"]=this["webpackJsonpcross-country-planner"]||[]).push([[0],{59:function(n,e,t){},75:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(48),c=t.n(o),i=(t(59),t(17)),l=t(22),s=t(9),u=t(0),d=t(10),p=t(12),b=t.n(p),j=t(2);function f(n){var e=n.initialGeolocation,t=n.waypoints,a=n.onMapClicked,o=Object(r.useRef)(null),c=Object(r.useState)(),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(r.useRef)(),p=Object(r.useRef)();return Object(r.useEffect)((function(){if(o.current){var n=b.a.map(o.current).setView([e.lng,e.lat],15);b.a.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}).addTo(n),n.on("click",(function(n){a({lat:n.latlng.lat,lng:n.latlng.lng})})),u(n)}return function(){null===s||void 0===s||s.clearAllEventListeners()}}),[]),Object(r.useEffect)((function(){if(s){var n=t.map((function(n,e){return b.a.marker(b.a.latLng(n.lat,n.lng),{icon:b.a.divIcon({className:"map-marker",html:"<span>".concat(e+1,"</span>")})})})),e=t.map((function(n){return b.a.latLng(n.lat,n.lng)})),r=[b.a.polyline(e,{color:"#055ff0"})];d.current&&d.current.clearLayers();var a=b.a.layerGroup(n);a.addTo(s),d.current=a,p.current&&p.current.clearLayers();var o=b.a.layerGroup(r);o.addTo(s),p.current=o}}),[s,t]),Object(j.jsx)("div",{ref:o,className:"map-container"})}var g,h,O,x,v,m,y,w,k,D,M=t(23),S=t(54),C=t(53),R=d.a.div(g||(g=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n  font-weight: 600;\n  cursor: move;\n"]))),E=d.a.div(h||(h=Object(s.a)(["\n  color: #7a7a7a;\n  margin-right: 5px;\n"]))),L=d.a.div(O||(O=Object(s.a)(["\n  color: #f0f0f0;\n"]))),z=d.a.div(x||(x=Object(s.a)(["\n  color: #7a7a7a;\n  margin-left: auto;\n  cursor: pointer;\n"])));function T(n){var e=n.waypoint,t=n.index,r=n.onDeleteMarkerClicked,a=n.onDragStart,o=n.onDragEnter;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(R,{draggable:!0,onDragStart:function(){return a(t)},onDragEnter:function(){return o(t)},onDragOver:function(n){return n.preventDefault()},children:[Object(j.jsx)(E,{children:Object(j.jsx)(C.a,{size:20})}),Object(j.jsx)(L,{children:e.label||"Waypoint ".concat(t+1)}),Object(j.jsx)(z,{children:Object(j.jsx)(S.a,{size:20,onClick:function(){return r(t)}})})]})})}var B,G,W,A=d.a.div(v||(v=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background-color: #4a4a4a;\n  padding: 15px;\n  box-sizing: border-box;\n"]))),P=d.a.div(m||(m=Object(s.a)(["\n  font-size: 24px;\n  font-weight: 700;\n  padding-bottom: 15px;\n  color: #f0f0f0;\n  border-bottom: 3px solid #5e5e5e;\n"]))),I=d.a.div(y||(y=Object(s.a)(["\n  margin-top: 40px;\n  height: 100%;\n  overflow-y: auto;\n"]))),J=d.a.div(w||(w=Object(s.a)(["\n  font-weight: 600;\n  color: #f0f0f0;\n"]))),N=d.a.div(k||(k=Object(s.a)(["\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),U=d.a.button(D||(D=Object(s.a)(["\n  background-color: #b8de50;\n  width: 100%;\n  height: 50px;\n  border-radius: 8px;\n  border-width: 0;\n  color: #4a4a4a;\n  font-weight: 700;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  :hover {\n    background-color: #a4cc35;\n  }\n  :disabled {\n    background-color: #7a7a7a;\n    cursor: not-allowed;\n  }\n  :active {\n    background-color: #7b9928;\n  }\n"])));function F(n){var e=n.waypoints,t=n.onDeleteMarkerClicked,a=n.onSwapWaypoints,o=Object(r.useRef)(),c=Object(r.useRef)(),i=function(n){o.current=n},l=function(n){c.current=n,void 0!==o.current&&(a(o.current,c.current),o.current=c.current,c.current=void 0)};return Object(j.jsxs)(A,{children:[Object(j.jsx)(P,{children:"Route Builder"}),Object(j.jsx)(I,{children:e.length?e.map((function(n,e){return Object(j.jsx)(T,{onDeleteMarkerClicked:t,onDragEnter:l,onDragStart:i,waypoint:n,index:e},e)})):Object(j.jsx)(J,{children:"Click on the Map to create your first Waypoint."})}),Object(j.jsx)(N,{children:Object(j.jsx)(U,{disabled:0===e.length,onClick:function(){var n=M.a.MODELS.Point,t=e.map((function(e){return new n(e.lat,e.lng)})),r=new M.a;r.setSegmentPoints(t);var a=new Blob([Object(M.b)(r.toObject())],{type:"text/gpx"}),o=URL.createObjectURL(a),c=document.createElement("a");c.href=o,c.download="route.gpx",c.click()},children:"Download your Route"})})]})}var V=d.a.div(B||(B=Object(s.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n"]))),Y=d.a.div(G||(G=Object(s.a)(["\n  width: 500px;\n  height: 100%;\n"]))),Z=d.a.div(W||(W=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background-color: blue;\n"]))),q={lat:13.836687559660044,lng:46.37799438996954};var H=function(){var n=Object(r.useState)([]),e=Object(l.a)(n,2),t=e[0],a=e[1];return Object(j.jsx)(u.b.Provider,{value:{style:{verticalAlign:"middle"}},children:Object(j.jsxs)(V,{children:[Object(j.jsx)(Y,{children:Object(j.jsx)(F,{waypoints:t,onSwapWaypoints:function(n,e){var r=Object(i.a)(t),o=r[n];r.splice(n,1),r.splice(e,0,o),a(r)},onDeleteMarkerClicked:function(n){a(t.filter((function(e,t){return t!==n})))}})}),Object(j.jsx)(Z,{children:Object(j.jsx)(f,{initialGeolocation:q,waypoints:t,onMapClicked:function(n){a((function(e){return[].concat(Object(i.a)(e),[n])}))}})})]})})};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.85ccccc7.chunk.js.map